webpackJsonp([16],{"/0UN":function(t,e,n){n("Iumf");var a=n("VU/8")(n("9807"),n("Rxxb"),null,null);t.exports=a.exports},"/jQl":function(t,e){},"0JjH":function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,'\n.box[data-v-da9015ac] {\n  background: #f2f2f2;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  /*background: url("../../assets/saima/bg_saima.png") no-repeat;*/\n  /*-webkit-background-size: cover;*/\n  /*-moz-background-size: cover;*/\n  /*-o-background-size: cover;*/\n  /*background-size: cover;*/\n  overflow: hidden;\n}\n.box .quick-open[data-v-da9015ac] {\n  position: absolute;\n  top: 8px;\n  right: 10px;\n  color: #ffffff;\n  font-size: 12px;\n  -webkit-text-decoration-line: underline;\n          text-decoration-line: underline;\n}\n.box .header[data-v-da9015ac] {\n  position: relative;\n}\n.box .header .logo[data-v-da9015ac] {\n  max-width: 100%;\n  height: auto;\n  display: block;\n}\n.box .middle[data-v-da9015ac] {\n  background: url('+n("nUK9")+") no-repeat;\n  background-size: cover;\n  margin-top: -1px;\n  margin-bottom: -1px;\n}\n.box .middle .title[data-v-da9015ac] {\n  margin: 10px 5% 0 5%;\n  padding: 10px;\n  background-color: rgba(90, 64, 1, 0.3);\n}\n.box .middle .title .top[data-v-da9015ac] {\n  padding-bottom: 10px;\n}\n.box .middle .title .top img[data-v-da9015ac] {\n  max-width: 100%;\n  height: auto;\n  display: block;\n}\n.box .middle .title .desc[data-v-da9015ac] {\n  font-size: 12px;\n  color: #b49d78;\n  overflow: scroll;\n  max-height: 100px;\n}\n.box .content[data-v-da9015ac] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  overflow: hidden;\n  background: url("+n("lAR6")+") center center no-repeat;\n  background-size: 100% 100%;\n}\n.box .content .list[data-v-da9015ac] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  margin: 15px 5%;\n  background-color: #ffffff00;\n  min-height: 100px;\n  overflow: hidden;\n}\n.box .content .list .company[data-v-da9015ac] {\n  width: 100%;\n  box-sizing: border-box;\n  border: 1px solid #ac8c37;\n  border-radius: 3px;\n  padding: 5px;\n  background-color: rgba(0, 0, 0, 0.75);\n  margin-bottom: 10px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.box .content .list .company .check[data-v-da9015ac] {\n  margin: 0 10px;\n  width: 22px;\n  height: 22px;\n  background-image: url("+n("eC83")+");\n  background-size: 100% 100%;\n}\n.box .content .list .company .name[data-v-da9015ac] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  font-size: 19px;\n  height: 39px;\n  line-height: 39px;\n  color: #c7b18c;\n}\n.box .content .list .company .status[data-v-da9015ac] {\n  font-size: 14px;\n  color: #a7a7a7;\n  margin: 0 8px;\n  height: 25px;\n  line-height: 25px;\n}\n.box .content .list .company.company-selected .check[data-v-da9015ac] {\n  background-image: url("+n("9yjU")+");\n}\n.box .content .list .company.company-selected .name[data-v-da9015ac] {\n  color: #e3bd7e;\n}\n.box .content .list .company.company-disabled[data-v-da9015ac] {\n  color: #969494;\n}\n.box .content .list .company.company-disabled .check[data-v-da9015ac] {\n  background-image: url("+n("kqJI")+");\n}\n.box .content .footer[data-v-da9015ac] {\n  margin: 0 5%;\n  text-align: center;\n}\n.box .content .footer .prompt[data-v-da9015ac] {\n  color: #fff;\n  font-size: 14px;\n}\n.box .content .footer .btn[data-v-da9015ac] {\n  display: inline-block;\n  margin: 10px 10px 5px 10px;\n  width: 207px;\n  height: 50px;\n  background: url("+n("5QBr")+") no-repeat;\n  background-size: 100% 100%;\n  /*background-color: #fee66d;*/\n  /*color: #fd6e21;*/\n  /*font-size: 20px;*/\n  /*line-height: 41px;*/\n  /*box-shadow:2px 2px 5px #1970ac;*/\n}\n.box .content .footer .btn[data-v-da9015ac]:active {\n  /*background-color: #feef6d;*/\n  background: url("+n("5QBr")+") no-repeat;\n  background-size: 100% 100%;\n}\n.box .content .footer .btn.weui-btn_disabled[data-v-da9015ac] {\n  /*background-color: #e3e3e3;*/\n  background: url("+n("5QBr")+") no-repeat;\n  background-size: 100% 100%;\n}\n",""])},"1jKx":function(t,e,n){"use strict";function a(t,e){return o()(t)===o()(e)}Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),o=n.n(i),s=n("pFYg"),c=n.n(s);e.default={name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(t){t&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var t=this,e="string"==typeof this.value||"number"==typeof this.value,n={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(n[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var i=!1;if("radio"===this.$parent.type)e&&this.$parent.currentValue===this.value?i=!0:"object"===c()(this.value)&&a(this.$parent.currentValue,this.value)&&(i=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(i=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var o=this.$parent.currentValue.filter(function(e){return a(e,t.value)});i=o.length>0}n[this.$parent.selectedItemClass]=i}return this.$parent.disabledItemClass&&(n[this.$parent.disabledItemClass]=this.disabled),n}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var t="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var e=-1;e=t?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(t){return o()(t)}).indexOf(o()(this.value)),e>-1?this.$parent.currentValue.splice(e,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}},"5QBr":function(t,e,n){t.exports=n.p+"static/img/btn_open.3d47d26.png"},"8jQI":function(t,e){},9807:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{currentValue:this.value}}}},"9yjU":function(t,e,n){t.exports=n.p+"static/img/radio_h.de8be07.png"},H9q0:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-item",class:t.classNames,on:{click:t.select}},[t._t("default")],2)},staticRenderFns:[]}},Iumf:function(t,e){},RKWJ:function(t,e,n){var a=n("0JjH");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("5c6d18fb",a,!0)},Rxxb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-box"},[t._t("default")],2)},staticRenderFns:[]}},TNNd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("//Fk"),i=n.n(a),o=n("I3G/"),s=n.n(o),c=n("/0UN"),r=n.n(c),l=n("hGvq"),d=n.n(l),u=n("2sLL"),p=n.n(u),h=n("rLAy"),f=(n.n(h),n("3BeM")),x=n("Msp2"),b=(n.n(x),n("Bfwr")),m=(n.n(b),n("Y+qm")),g=n("S8Wg"),v=n.n(g),k=n("jijt"),y=(n.n(k),n("tpu8")),$=n.n(y),_=n("mtWM"),C=n.n(_),w=n("1nuA");n.n(w);s.a.use(m.a),s.a.use(f.a);var V=n("PZHe"),j=n("CWSs");C.a.defaults.timeout=1e4,e.default={created:function(){document.title="王牌赛马服务"},mounted:function(){this.getCompanyListData()},data:function(){return{agreed:!0,companyList:[],selectedCompany:[],scrollTop:0,token:"",secid:""}},computed:{canNotSubmit:function(){return 0==this.selectedCompany.length||!this.agreed}},methods:{submit:function(){var t=this;if(console.log(this.selectedCompany),0==this.selectedCompany.length)return void this.$vux.toast.show({text:"请选择开通的场所~",type:"text"});var e=[];this.selectedCompany.forEach(function(t){e.push(t.companyId)}),this.$vux.loading.show({text:"提交中"}),this.getUserToken().then(function(n){var a=n.token,i=n.secid;C.a.post(j.createAjaxUrl("plugin/open_companies"),{company_ids:e,service_code:"SS77103"},{headers:{"x-auth-token":a,"x-auth-secid":i}}).then(function(e){var n=e.data;if(console.log(n),t.$vux.loading.hide(),0==n.ret){var a=n.msg;0==n.msg.length&&(a="开通成功!"),t.$vux.toast.show({text:a,type:"text"}),t.getCompanyListData()}else console.log(n.msg),t.$vux.toast.show({text:n.msg,type:"text"})}).catch(function(e){t.$vux.loading.hide()})})},getUserToken:function(){var t=this;return new i.a(function(e){$.a.isEmpty(t.token)||$.a.isEmpty(t.secid)?(console.log("request token and secid"),V.getCompanyInfo(function(n){var a=n.token,i=n.secid;t.token=a,t.secid=i,e({token:a,secid:i})})):(console.log("success token and secid"),e({token:t.token,secid:t.secid}))})},getCompanyListData:function(){var t=this;this.$vux.loading.show({text:"加载中"});try{this.getUserToken().then(function(e){var n=e.token,a=e.secid;console.log("token="+n+" secid="+a),C.a.post(j.createAjaxUrl("plugin/companies_status"),{service_code:"SS77103"},{headers:{"x-auth-token":n,"x-auth-secid":a}}).then(function(e){if(console.log(e),0==e.data.ret&&"Array"===$.a.type(e.data.data)){var n=e.data.data.map(function(t){return t.companyName=t.company_name,t.companyId=t.company_id,t.actived=1==t.status,t.status=t.actived?"已开通":"未开通",t.checked=!1,t});t.companyList=n,t.selectedCompany=[]}t.refreshScroll(),t.$vux.loading.hide()}).catch(function(e){console.log(e),t.$vux.loading.hide()})})}catch(t){console.log(t),this.$vux.loading.hide()}},onScroll:function(t){this.scrollTop=t},refreshScroll:function(){var t=this;this.$nextTick(function(){t.$refs.scroller.reset({top:t.scrollTop})})}},components:{XButton:p.a,Checker:r.a,CheckerItem:d.a,Scroller:v.a}}},eC83:function(t,e,n){t.exports=n.p+"static/img/radio_n.b26d67e.png"},eq9B:function(t,e,n){t.exports=n.p+"static/img/bg_top_logo.d697ef4.jpg"},etqP:function(t,e,n){n("RKWJ");var a=n("VU/8")(n("TNNd"),n("rFzh"),"data-v-da9015ac",null);t.exports=a.exports},hGvq:function(t,e,n){n("/jQl");var a=n("VU/8")(n("1jKx"),n("H9q0"),null,null);t.exports=a.exports},"hoG/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"weui-loading"})},staticRenderFns:[]}},jijt:function(t,e,n){n("8jQI");var a=n("VU/8")(n("rCr9"),n("hoG/"),null,null);t.exports=a.exports},kqJI:function(t,e,n){t.exports=n.p+"static/img/check_d.a3a7f96.png"},lAR6:function(t,e,n){t.exports=n.p+"static/img/bg_bottom.6901eaf.jpg"},lHDC:function(t,e,n){t.exports=n.p+"static/img/ic_wanfa.130ba31.png"},nUK9:function(t,e,n){t.exports=n.p+"static/img/bg_middle.259a741.jpg"},rCr9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"inline-loading"}},rFzh:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("section",{staticClass:"content"},[n("scroller",{ref:"scroller",staticClass:"list",attrs:{"lock-x":"","scrollbar-y":!1,bounce:!0},on:{"on-scroll":t.onScroll}},[n("checker",{ref:"list",attrs:{type:"checkbox","default-item-class":"company","selected-item-class":"company-selected","disabled-item-class":"company-disabled"},model:{value:t.selectedCompany,callback:function(e){t.selectedCompany=e},expression:"selectedCompany"}},[t._l(t.companyList,function(e,a){return n("checker-item",{key:e.companyId,attrs:{value:e,disabled:e.actived}},[n("div",{staticClass:"check"}),n("div",{staticClass:"name"},[t._v(t._s(e.companyName))]),n("div",{staticClass:"status"},[t._v(t._s(e.status))])])}),t._v(" "),0!=t.companyList.length?n("div",{staticClass:"footer"},[n("div",{staticClass:"prompt"}),t._v(" "),n("x-button",{staticClass:"btn",attrs:{disabled:t.canNotSubmit},nativeOn:{click:function(e){t.submit()}}})],1):t._e()],2)],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"header"},[a("img",{staticClass:"logo",attrs:{src:n("eq9B"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"middle"},[a("div",{staticClass:"title"},[a("div",{staticClass:"top"},[a("img",{attrs:{src:n("lHDC"),alt:""}})]),t._v(" "),a("p",{staticClass:"desc"},[t._v("\n                本游戏专门为KTV商家量身定制，方便KTV在大厅借助大屏幕组织在场消费者一起进行群体活动。"),a("br"),t._v("\n                只需要在场参与者拿出手机，对准大屏幕二维码扫码加入游戏，游戏开始后，所有人疯狂的摇动手机，看谁摇的快，最终就能胜出比赛!\n            ")])])])}]}}});